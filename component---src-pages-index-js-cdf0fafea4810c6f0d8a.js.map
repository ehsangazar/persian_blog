{"version":3,"sources":["webpack:///./src/components/Posts/Posts.js","webpack:///./src/pages/index.js"],"names":["Posts","posts","id","className","map","index","node","title","frontmatter","fields","slug","key","to","src","cover","childImageSharp","fluid","alt","pageQuery","BlogIndex","data","location","siteTitle","site","siteMetadata","useState","allMarkdownRemark","edges","slice","Layout","page","SEO","author","summary"],"mappings":"gOAoCeA,G,UAhCD,SAAC,GAAe,IAAbC,EAAY,EAAZA,MACf,OACE,yBAAKC,GAAG,WACN,yBAAKC,UAAU,aACb,yBAAKA,UAAU,sBACZF,EAAMG,KAAI,WAAWC,GAAW,IAAnBC,EAAkB,EAAlBA,KACNC,EAAQD,EAAKE,YAAYD,OAASD,EAAKG,OAAOC,KACpD,OACE,yBAAKP,UAAU,oBAAoBQ,IAAG,QAAUN,GAC9C,kBAAC,OAAD,CAAMO,GAAIN,EAAKG,OAAOC,KAAMP,UAAU,eACpC,yBACEU,IACEP,EAAKE,YAAYM,OAASR,EAAKE,YAC5BM,MAAMC,gBAAgBC,MAAMH,IAEjCI,IAAKV,KAGT,yBAAKJ,UAAU,iBACb,kBAAC,OAAD,CAAMS,GAAIN,EAAKG,OAAOC,KAAMP,UAAU,uBACpC,wBAAIA,UAAU,cAAcI,cCoBnCW,GAFEC,UAjCG,SAAC,GAAwB,IAAtBC,EAAqB,EAArBA,KAAMC,EAAe,EAAfA,SACnBC,EAAYF,EAAKG,KAAKC,aAAajB,MADD,EAEdkB,mBACxBL,EAAKM,kBAAkBC,MAAMC,MAAM,EALnB,MAIX3B,EAFiC,aAKhBwB,mBAPN,MAEsB,aAMhBA,oBAAS,IANO,UAkBxC,OACE,kBAACI,EAAA,EAAD,CAAQR,SAAUA,EAAUd,MAAOe,EAAWQ,KAAK,YACjD,kBAACC,EAAA,EAAD,CAAKxB,MAAOa,EAAKG,KAAKC,aAAaQ,OAAOC,UAC1C,kBAAC,EAAD,CAAOhC,MAAOA,KACb,IAae","file":"component---src-pages-index-js-cdf0fafea4810c6f0d8a.js","sourcesContent":["import React from \"react\"\nimport { Link } from \"gatsby\"\nimport './Posts.css'\n\nconst Posts = ({ posts }) => {\n  return (\n    <div id=\"content\">\n      <div className=\"container\">\n        <div className=\"blog-masonry posts\">\n          {posts.map(({ node }, index) => {\n            const title = node.frontmatter.title || node.fields.slug\n            return (\n              <div className=\"post-card -center\" key={`post-${index}`}>\n                <Link to={node.fields.slug} className=\"card__cover\">\n                  <img\n                    src={\n                      node.frontmatter.cover && node.frontmatter\n                        .cover.childImageSharp.fluid.src\n                    }\n                    alt={title}\n                  />\n                </Link>\n                <div className=\"card__content\">\n                  <Link to={node.fields.slug} className=\"card__content-title\">\n                    <h5 className=\"--noMargin\">{title}</h5>\n                  </Link>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Posts\n","import React, { useState } from 'react'\nimport { graphql } from 'gatsby'\nimport Layout from '../components/Layout/Layout'\nimport SEO from '../components/SEO/SEO'\nimport Posts from '../components/Posts/Posts'\nimport { Button } from 'react-bootstrap'\n\nconst PAGE_NUMBER = 100\n\nconst BlogIndex = ({ data, location }) => {\n  const siteTitle = data.site.siteMetadata.title\n  const [posts, setPosts] = useState(\n    data.allMarkdownRemark.edges.slice(0, PAGE_NUMBER)\n  )\n  const [skip, setSkip] = useState(PAGE_NUMBER)\n  const [more, setMore] = useState(true)\n\n  const handleShowMore = () => {\n    const newSkip = skip + PAGE_NUMBER\n\n    setSkip(newSkip)\n    setPosts(data.allMarkdownRemark.edges.slice(0, newSkip))\n    if (data.allMarkdownRemark.edges.length < newSkip) {\n      setMore(false)\n    }\n  }\n\n  return (\n    <Layout location={location} title={siteTitle} page=\"homepage\">\n      <SEO title={data.site.siteMetadata.author.summary} />\n      <Posts posts={posts} />\n      {false && more && (\n        <div className=\"loadMore\">\n          <Button variant=\"secondary\" onClick={handleShowMore}>\n            مطالب بیشتر\n          </Button>\n        </div>\n      )}\n    </Layout>\n  )\n}\n\nexport default BlogIndex\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n        author {\n          summary\n        }\n      }\n    }\n    allMarkdownRemark(\n      filter: { frontmatter: { homepage: { eq: true } } }\n      sort: { fields: [frontmatter___date], order: DESC }\n      skip: 0\n    ) {\n      edges {\n        node {\n          excerpt\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            title\n            description\n            cover {\n              childImageSharp {\n                fluid(maxWidth: 800) {\n                  ...GatsbyImageSharpFluid\n                }\n              }\n            }\n            category\n            homepage\n          }\n        }\n      }\n    }\n  }\n`\n"],"sourceRoot":""}